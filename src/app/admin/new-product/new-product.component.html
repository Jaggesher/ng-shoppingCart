<div class="container ">
	<br>
    <div class="col-sm-8  offset-sm-2 jumbotron">
		<h2 class="display-5">Add New Product.</h2>
		<hr>

		<div class="form-group">
			<label for="customFile">Image: </label>
			<div class="custom-file">
				<input type="file" class="custom-file-input" id="customFile" (change)="onFileSelected($event)" name="customFile" aria-describedby="customFileHelp">
				<label class="custom-file-label" for="customFile">Choose Image</label>
			</div>
			<small id="customFileHelp" class="form-text text-muted">Select Related Product Image.</small>
		</div>

		<form [formGroup]="productForm" (ngSubmit)= "onSubmit()"  novalidate>

			<div class="form-group">
				<label for="description">Description: </label>
				<textarea class="form-control" id="description" aria-describedby="descriptionHelp" placeholder="Enter Description" rows="6" formControlName="description"></textarea>
				
				<div *ngIf="description.errors && (description.dirty || description.touched)" > 
					<span *ngIf="description.errors.required">  
						Description field is Required. 
					</span>
					<span *ngIf="description.errors.maxlength">  
						Description max length  995 charactes
					</span>

				</div>
				<small id="descriptionHelp" class="form-text text-muted">Description of related products</small>
			</div>

			<div class="form-group">
				<label for="category">Category: </label>
				<select class="form-control" id="category" aria-describedby="categoryHelp"  formControlName="category" name="category">
					<option *ngFor="let category of allCategory" value="{{category.id}}">{{category.productCategory}}</option>
				</select>

				<div *ngIf="category.errors && (category.dirty || category.touched)" > 
					<span *ngIf="category.errors.required">  
							category field is Required. 
					</span>
				</div>

				<small id="categoryHelp" class="form-text text-muted">select related category.</small>
			</div>
			
			<div class="form-group">
				<label for="price">Price: </label>
				<input type="number" class="form-control" id="price" aria-describedby="numberHelp" placeholder="Enter Price"  formControlName="price" >
				
				<div *ngIf="price.errors && (price.dirty || price.touched)" > 
					<span *ngIf="price.errors.required">  
						price field is Required. 
					</span>
					<span *ngIf="price.errors.min">  
						price minimum value 1
					</span>
					<span *ngIf="price.errors.max">  
						price maximum value 100000000
					</span>
				</div>

				<small id="numberHelp" class="form-text text-muted">product price must be non negative.</small>
			</div>

			<div class="form-group">
				<label for="stock">Stock: </label>
				<input type="number" class="form-control" id="stock" aria-describedby="stockHelp" placeholder="Enter Stock"  formControlName="stock" >
				<small id="stockHelp" class="form-text text-muted">product stock must be non negative.</small>
				
				<div *ngIf="stock.errors && (stock.dirty || stock.touched)" > 
					<span *ngIf="stock.errors.required">  
						stock field is Required. 
					</span>
					<span *ngIf="stock.errors.min">  
						stock minimum value 1
					</span>
					<span *ngIf="stock.errors.max">  
						stock maximum value 100000000
					</span>
				</div>

			</div>
			<div class="form-group">
				<button type="submit" class="btn btn-primary" [disabled]='!productForm.valid || !isFileValid' >Submit</button>
				<app-spinner [isRunning]="isRequesting"></app-spinner> 
			</div>
			
		</form>
    </div>
</div>